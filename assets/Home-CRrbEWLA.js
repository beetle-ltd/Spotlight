import{j as e,L as p,T as j,a as f,b as g,r as m,u as b,c as y,C as N}from"./index-ufe_VDQa.js";import{G as u,L as v,c as L,S as T,M as A,V as k,A as d,a as w,u as C,b as S,B as z}from"./api-constants-BTzVX2Lk.js";import{B as E}from"./button-BiSV5wp7.js";function I(s){return u({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M347.94 129.86L203.6 195.83a31.938 31.938 0 0 0-15.77 15.77l-65.97 144.34c-7.61 16.65 9.54 33.81 26.2 26.2l144.34-65.97a31.938 31.938 0 0 0 15.77-15.77l65.97-144.34c7.61-16.66-9.54-33.81-26.2-26.2zm-77.36 148.72c-12.47 12.47-32.69 12.47-45.16 0-12.47-12.47-12.47-32.69 0-45.16 12.47-12.47 32.69-12.47 45.16 0 12.47 12.47 12.47 32.69 0 45.16zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 448c-110.28 0-200-89.72-200-200S137.72 56 248 56s200 89.72 200 200-89.72 200-200 200z"},child:[]}]})(s)}function P(){return e.jsxs("div",{className:"w-full flex items-center py-2 sm:py-5",children:[e.jsx(v,{url:"/"}),e.jsx("div",{className:"flex flex-1 items-center justify-end gap-x-6",children:e.jsx(p,{to:"/explore",children:e.jsx(I,{size:24,className:"cursor-pointer"})})})]})}function $(s){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(s)}function c({children:s,text:t}){return e.jsxs(j,{children:[e.jsx(f,{children:e.jsx("div",{className:"flex items-center text-[#555] gap-x-3 cursor-pointer",onClick:()=>{L(t)},children:s})}),e.jsx(g,{children:e.jsx("p",{children:"Click to copy"})})]})}function B({store:s}){return e.jsxs("div",{className:"mt-10 mb-16 sm:flex sm:items-start gap-x-8 ",children:[e.jsx("div",{className:"flex justify-center items-center h-full pb-5",children:e.jsx(T,{logoImg:s.logo,alt:s.name,size:"default"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-3xl",children:s.name}),e.jsx(G,{children:s.bio}),e.jsxs("div",{className:"py-2 flex flex-col gap-y-2 justify-start sm:items-start",children:[e.jsxs(c,{text:s.phoneNumber,children:[e.jsx($,{}),e.jsx("p",{className:"text-sm",children:s.phoneNumber})]}),e.jsxs(c,{text:s.email,children:[e.jsx(A,{}),e.jsx("p",{className:"text-sm",children:s.email})]}),e.jsx(c,{text:`${window.location.origin}/stores/${s.link}`,children:e.jsx("p",{className:"text-sm text-[#62ADF1]",children:`${window.location.origin}/stores/${s.link}`})}),e.jsxs(E,{className:"flex gap-x-2 items-center",size:"lg",children:[e.jsx(k,{size:18}),"Get business card"]})]})]})]})}function G({children:s}){return e.jsx("p",{className:"text-[#555] leading-7 text-sm sm:text-md pb-1",children:s})}const l=({activeTab:s,handleTabClick:t,children:a,tab:r})=>e.jsx("button",{className:`px-3 py-2 mr-2 font-medium  ${s===r?"border-b-gray-400 rounded-t-3xl border-b-2 text-black ":"text-gray-500"}`,onClick:()=>t(r),children:a});function M({products:s}){const[t,a]=m.useState("ALL"),r=n=>{a(n)},o=t==="ALL"?s:s.filter(n=>n.attachments[0].type===t);return e.jsxs("div",{className:"w-full sm:w-[70%] mt-10 mx-auto ",children:[e.jsxs("div",{className:"flex flex-row gap-x-3 mb-4 w-full   border-b-[.05px] border-gray-400 justify-center",children:[e.jsx(l,{activeTab:t,handleTabClick:r,tab:"ALL",children:"All"}),e.jsx(l,{activeTab:t,handleTabClick:r,tab:d.PICTURE,children:"Photos"}),e.jsx(l,{activeTab:t,handleTabClick:r,tab:d.VIDEO,children:"Videos"})]}),e.jsx(w,{products:o})]})}function U(){const{storeName:s}=b(),{toast:t}=y();m.useEffect(()=>{s&&localStorage.setItem("store_name",s)},[s]);const a=async()=>{try{const i=await S.get(`${z}/api/v1/stores/links?storeUsername=${s}`);if(i.statusText==="OK")return i.data}catch(i){console.log(i),t({description:"An error occured"+i})}},{data:r,error:o,isLoading:n}=C({queryKey:["fetchStore"],queryFn:a});if(o&&t({description:o.message}),n)return"lOADING PLEASE WAIT";const x=r.data,h=x.products;return e.jsxs("div",{children:[e.jsxs(N,{children:[e.jsx(P,{}),e.jsx(B,{store:x})]}),e.jsx(M,{products:h})]})}export{U as default};
